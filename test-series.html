<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CA Test Series</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .btn { padding: 10px 15px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .btn:hover { background: #0056b3; }
    .file-preview { margin-top: 15px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
    .file-preview img { max-width: 100%; height: auto; display: none; margin-top: 10px; }
    .file-preview iframe { display: none; margin-top: 10px; }
  </style>
</head>
<body>

  <h2>CA Foundation Test Download</h2>

  <button type="button" class="btn" onclick="downloadTest('CA Foundation - Test 1', event)">Download Test Paper</button>
  <button type="button" class="btn" onclick="downloadTest('CA Foundation - Test 2', event)">Download Test Paper</button>

  <h3>Upload Your Answer Sheet</h3>
  <input type="file" id="fileInput" onchange="previewFile()">

  <div id="filePreview" class="file-preview">
    <p><strong>File Preview:</strong></p>
    <img id="previewImg" src="" alt="File preview">
    <iframe id="pdfPreview" style="width:100%; height:300px; border:none;"></iframe>
    <div class="file-info">
      <p id="fileName"></p>
      <p id="fileSize"></p>
      <p id="fileType"></p>
    </div>
  </div>

  <script>
    function downloadTest(testName, event) {
      event.preventDefault(); // button ka default action rokta hai
      alert(testName + " download started!");
      // Yaha actual download logic add karna hoga
    }

    function previewFile() {
      const file = document.getElementById('fileInput').files[0];
      const previewImg = document.getElementById('previewImg');
      const pdfFrame = document.getElementById('pdfPreview');
      const fileName = document.getElementById('fileName');
      const fileSize = document.getElementById('fileSize');
      const fileType = document.getElementById('fileType');

      if (file) {
        fileName.textContent = "Name: " + file.name;
        fileSize.textContent = "Size: " + (file.size / 1024).toFixed(2) + " KB";
        fileType.textContent = "Type: " + file.type;

        if (file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = function(e) {
            previewImg.src = e.target.result;
            previewImg.style.display = 'block';
            pdfFrame.style.display = 'none';
          };
          reader.readAsDataURL(file);
        } else if (file.type === "application/pdf") {
          previewImg.style.display = 'none';
          previewImg.src = "";
          pdfFrame.src = URL.createObjectURL(file);
          pdfFrame.style.display = 'block';
        } else {
          previewImg.style.display = 'none';
          pdfFrame.style.display = 'none';
        }
      }
    }
  </script>

</body>
</html>
